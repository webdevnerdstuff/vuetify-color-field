import{d as te,i as oe,c as $,o as k,a as V,w as S,b as W,m as A,u as t,V as ae,e as Se,t as we,n as se,f as de,h as Ie,j as be,k as ce,l as Ce,p as Pe,q as Ve,r as le,s as Be,v as B,x as Q,y as ze,z as $e,A as Fe,B as H,C as _,D as q,E as F,F as xe,G as Ae,H as Re,I as He,J as Ne,K as Oe,L as _e,M as We,T as Ee,N as Me,_ as Le}from"./index-Zj-0eIR-.js";const x=l=>{const{unit:a="px",value:n}=l;if(!(n==null||n===""))return+n?`${Number(n)}${a}`:String(n)},R="v-color-field",Te=()=>({[`${R}--pip`]:!0}),je=l=>{const{name:a="",readonly:n,readonlyInput:o}=l;return{[`${R}--text-field-${a}`]:a!=="",[`${R}--text-field-readonly`]:n??!1,[`${R}--text-field-readonly-input`]:!!(o&&!n),[`${R}--text-field`]:!0}},qe=l=>{const{fullWidth:a}=l;return{[`${R}--card`]:!0,[`${R}--card-full-width`]:a}},De={fa:{default:"fa-solid fa-palette",pip:"fa-solid fa-circle"},mdi:{default:"mdi:mdi-palette",pip:"mdi:mdi-circle"}},pe=l=>{const{icon:a,iconOptions:n,name:o}=l;if(a)return a;let p=((n==null?void 0:n.defaultSet)??"").toLowerCase();p=p==="fa"||p==="fasvg"?"fa":p;const v=De[p];if(!v)throw new Error(`[VColorField]: No default ${n==null?void 0:n.defaultSet} icon set found.`);const e=v[o];if(!e)throw new Error(`[VColorField]: No ${o} icon found.`);return e},D=te({__name:"ColorPickerIcon",props:{color:{},icon:{type:[String,null,Boolean],default:""},iconSize:{}},emits:["click"],setup(l,{emit:a}){const n=a,o=l,h=oe(Symbol.for("vuetify:icons")),p=$(()=>pe({icon:o.icon!=="default"?o.icon:"",iconOptions:h,name:"default"}));function v(){n("click")}return(e,y)=>(k(),V(Se,null,{default:S(({isHovering:b,props:f})=>[W(ae,A(f,{color:b?e.color:void 0,icon:t(p),size:e.iconSize,onClick:v}),null,16,["color","icon","size"])]),_:1}))}}),Ge=l=>{const{pipBorder:a,pipBorderRadius:n}=l,o={backgroundColor:a&&a!=="none"?"rgb(var(--v-theme-on-surface))":"transparent",overflow:"hidden"};return a&&a!=="none"&&(o.border=a,o.borderRadius=n),o},G=te({__name:"PipComponent",props:{modelValue:{},pip:{type:Boolean},pipBorder:{},pipIcon:{type:[String,null,Boolean]},pipBorderRadius:{},pipSize:{},pipSlot:{}},emits:["click"],setup(l,{emit:a}){const n=a,o=l,{modelValue:h}=we(o),p=$(()=>Te()),v=$(()=>Ge({pipBorder:o.pipBorder,pipBorderRadius:o.pipBorderRadius})),e=oe(Symbol.for("vuetify:icons")),y=$(()=>pe({icon:o.pipIcon!=="pip"?o.pipIcon:"",iconOptions:e,name:"pip"}));function b(){n("click")}return(f,g)=>(k(),V(ae,{class:se(t(p)),color:t(h)||"--v-theme-on-surface",icon:t(y),size:f.pipSize,style:de(t(v)),tag:"div",onClick:b},null,8,["class","color","icon","size","style"]))}});function Ue(l){return Ie()?(be(l),!0):!1}function ue(l){return typeof l=="function"?l():t(l)}const fe=typeof window<"u"&&typeof document<"u";typeof WorkerGlobalScope<"u"&&globalThis instanceof WorkerGlobalScope;const Ye=Object.prototype.toString,Ke=l=>Ye.call(l)==="[object Object]",U=()=>{},Xe=Je();function Je(){var l,a;return fe&&((l=window==null?void 0:window.navigator)==null?void 0:l.userAgent)&&(/iP(ad|hone|od)/.test(window.navigator.userAgent)||((a=window==null?void 0:window.navigator)==null?void 0:a.maxTouchPoints)>2&&/iPad|Macintosh/.test(window==null?void 0:window.navigator.userAgent))}function E(l){var a;const n=ue(l);return(a=n==null?void 0:n.$el)!=null?a:n}const me=fe?window:void 0;function ee(...l){let a,n,o,h;if(typeof l[0]=="string"||Array.isArray(l[0])?([n,o,h]=l,a=me):[a,n,o,h]=l,!a)return U;Array.isArray(n)||(n=[n]),Array.isArray(o)||(o=[o]);const p=[],v=()=>{p.forEach(f=>f()),p.length=0},e=(f,g,d,c)=>(f.addEventListener(g,d,c),()=>f.removeEventListener(g,d,c)),y=ce(()=>[E(a),ue(h)],([f,g])=>{if(v(),!f)return;const d=Ke(g)?{...g}:g;p.push(...n.flatMap(c=>o.map(m=>e(f,c,m,d))))},{immediate:!0,flush:"post"}),b=()=>{y(),v()};return Ue(b),b}let re=!1;function Ze(l,a,n={}){const{window:o=me,ignore:h=[],capture:p=!0,detectIframe:v=!1}=n;if(!o)return U;Xe&&!re&&(re=!0,Array.from(o.document.body.children).forEach(d=>d.addEventListener("click",U)),o.document.documentElement.addEventListener("click",U));let e=!0;const y=d=>h.some(c=>{if(typeof c=="string")return Array.from(o.document.querySelectorAll(c)).some(m=>m===d.target||d.composedPath().includes(m));{const m=E(c);return m&&(d.target===m||d.composedPath().includes(m))}}),f=[ee(o,"click",d=>{const c=E(l);if(!(!c||c===d.target||d.composedPath().includes(c))){if(d.detail===0&&(e=!y(d)),!e){e=!0;return}a(d)}},{passive:!0,capture:p}),ee(o,"pointerdown",d=>{const c=E(l);e=!y(d)&&!!(c&&!d.composedPath().includes(c))},{passive:!0}),v&&ee(o,"blur",d=>{setTimeout(()=>{var c;const m=E(l);((c=o.document.activeElement)==null?void 0:c.tagName)==="IFRAME"&&!(m!=null&&m.contains(o.document.activeElement))&&a(d)},0)})].filter(Boolean);return()=>f.forEach(d=>d())}const Qe={key:1},et={key:0,class:"text-error ms-1"},tt=te({inheritAttrs:!1,__name:"VColorField",props:{appendIcon:{default:void 0},appendInnerIcon:{default:void 0},cardFieldWidth:{type:Boolean,default:!1},cardOffsetX:{default:0},cardOffsetY:{default:5},cardPadding:{default:4},cardProps:{default:()=>({})},clearable:{default:!1},color:{default:void 0},colorPickerProps:{default:()=>({})},density:{default:"default"},hint:{default:""},iconHoverColor:{type:Boolean,default:void 0},iconSize:{default:"default"},label:{default:void 0},messages:{default:void 0},name:{default:"color"},open:{default:"bottom left"},persistentHint:{type:Boolean,default:!1},persistentPlaceholder:{default:!1},placeholder:{default:void 0},prependIcon:{default:void 0},prependInnerIcon:{type:[String,null,Boolean],default:"default"},readonly:{default:!1},readonlyInput:{type:[Boolean,null],default:!1},required:{type:Boolean,default:!1},theme:{},canvasHeight:{},dotSize:{},hideCanvas:{},hideInputs:{},hideSliders:{},mode:{},modes:{},showSwatches:{},swatches:{},swatchesMaxHeight:{},variant:{default:"filled"},pip:{type:Boolean,default:!1},pipBorder:{default:"3px solid rgb(var(--v-theme-on-surface))"},pipIcon:{type:[String,null,Boolean],default:"pip"},pipBorderRadius:{default:"50%"},pipSize:{},pipSlot:{default:"prepend-inner"}},emits:["update","update:mode","update:modelValue"],setup(l,{emit:a}){var ne;const n=Ce(),o=Pe(),h=a,p=l,v=oe(Ve,{}),e=le({...p,...v});Be(()=>{Object.assign(e,{...p,...v})});const y=B({VCard:{elevation:5,hover:!1,loading:!1,verticalOffset:28,...e.cardProps},VColorPicker:{canvasHeight:e.canvasHeight,dotSize:e.dotSize,elevation:0,hideCanvas:e.hideCanvas,hideInputs:e.hideInputs,hideSliders:e.hideSliders,mode:e.mode,modes:e.modes,showSwatches:e.showSwatches,swatches:e.swatches,swatchesMaxHeight:e.swatchesMaxHeight,...e.colorPickerProps}}),b=B(null),f=B({}),g=B(!1),d=B(null),c=B(n.modelValue),m=B(n.modelValue),Y=B((ne=y.value.VColorPicker)==null?void 0:ne.mode),K=B(e.theme??void 0);let C=le({bottom:0,height:150,left:0,right:0,top:0,width:300});const M=B({density:e.density,modelValue:m,pip:e.pip,pipBorder:e.pipBorder,pipBorderRadius:e.pipBorderRadius,pipIcon:e.pipIcon,pipSize:e.iconSize});ce(()=>n.modelValue,i=>{X(i)});const he=$(()=>je({name:e.name,readonly:e.readonly,readonlyInput:e.readonlyInput})),ve=$(()=>e.readonly||e.readonlyInput),L=$(()=>{if(e.iconHoverColor!==!1)return typeof e.iconHoverColor=="string"?e.iconHoverColor:e.color??void 0}),ye=$(()=>qe({fullWidth:e.cardFieldWidth}));function N(i){i==="textField"&&!e.readonlyInput&&!e.readonly||i==="textFieldIcon"&&(e.readonlyInput||e.readonly)||w()}function w(i){var ie;const r={left:0,right:0,top:0,width:0},s=d.value;if(!g.value&&(i==="keyup"||i==="clear")){i==="clear"&&J("");return}if(g.value=!g.value,!g.value){f.value.display="none";return}const u=(s==null?void 0:s.getBoundingClientRect())??r;let P=(s==null?void 0:s.offsetHeight)??0,z=300,T=(u==null?void 0:u.left)??0,O=(u==null?void 0:u.right)??0;const j=(u==null?void 0:u.top)??0,I=(ie=d==null?void 0:d.value)==null?void 0:ie.querySelector(".v-field__input"),Z=(I==null?void 0:I.getBoundingClientRect())??r;P=I==null?void 0:I.offsetHeight,z=(I==null?void 0:I.offsetWidth)??0,T=Z.left,O=Z.right-Z.width,C={bottom:"initial",height:P,left:T,right:O,top:window.scrollY+j,width:e.cardFieldWidth?z:"auto"},ge()}function ge(){var O,j,I;let i=Number(C.top)+Number(C.height),r="initial",s=Number(e.cardOffsetY)??0;const u=Number(e.cardOffsetX)??0;(e.hint||p.messages)&&(s+=((O=y.value.VCard)==null?void 0:O.verticalOffset)??0),i=i+s,(j=e.open)!=null&&j.includes("top")&&(r=window.innerHeight-i+Number(C.height)+s*2,i="initial");let P=Number(C.left)+u,z=C.right??0;e.cardFieldWidth?(P=C.left,z="initial"):(z="initial",(I=e.open)!=null&&I.includes("right")&&(P="initial",z=Number(C.right)+u));const T={bottom:x({value:r}),display:"block",left:x({value:P}),minWidth:x({value:C.width}),padding:x({value:e.cardPadding}),right:x({value:z}),top:x({value:i}),width:x({value:C.width})};f.value=T}Ze(d,i=>{var s;const r=t(b);i.target!==r&&!((s=r==null?void 0:r.$el)!=null&&s.contains(i.target))&&g.value&&w("outside")},{ignore:[b]});function X(i){let r=i??"";if(r.length<7){m.value=r,J(r);return}Y.value==="hex"&&(i.length>7&&(r=i.substr(0,7)),r.toString().match(/#[a-zA-Z0-9]{7}/)&&(r=i.substr(0,7))),J(r)}function J(i,r=!0){r&&(c.value=i),m.value=i,h("update:modelValue",i),h("update",i)}function ke(i){Y.value=i,m.value=c.value,h("update:mode",i)}return(i,r)=>(k(),Q(Me,null,[ze("div",{ref_key:"fieldContainerRef",ref:d,class:"v-color-field"},[W(He,A({ref:"textFieldRef"},i.$attrs,{class:t(he),clearable:t(e).clearable,color:t(e).color,density:t(e).density,hint:t(e).hint,messages:t(e).messages,"model-value":t(m),"persistent-hint":t(e).persistentHint,"persistent-placeholder":t(e).persistentPlaceholder,placeholder:t(e).placeholder,readonly:t(ve),theme:t(K),variant:t(e).variant,"onClick:clear":r[4]||(r[4]=s=>w("clear")),"onClick:control":r[5]||(r[5]=s=>N("textField")),onKeyup:r[6]||(r[6]=Re(s=>w("keyup"),["enter"])),"onUpdate:modelValue":X}),$e({_:2},[Fe(t(o),(s,u)=>({name:u,fn:S(P=>[!t(o).prepend&&!t(o)["prepend-inner"]&&!t(o)["append-inner"]&&!t(o).append?H(i.$slots,u,_(A({key:0},{...P})),void 0,!0):F("",!0)])})),t(o).prepend?{name:"prepend",fn:S(s=>[H(i.$slots,"prepend",_(q({...s,toggleColorPicker:w})),void 0,!0)]),key:"0"}:void 0,(t(e).prependIcon||t(e).pipSlot==="prepend"&&t(e).pip)&&!t(o).prepend?{name:"prepend",fn:S(()=>[t(e).pip?(k(),V(G,A({key:0},t(M),{onClick:w}),null,16)):t(e).prependIcon?(k(),V(D,{key:1,color:t(L),icon:t(e).prependIcon,iconSize:t(e).iconSize,onClick:w},null,8,["color","icon","iconSize"])):F("",!0)]),key:"1"}:void 0,t(o)["prepend-inner"]?{name:"prepend-inner",fn:S(s=>[H(i.$slots,"prepend-inner",_(q({...s,toggleColorPicker:w})),void 0,!0)]),key:"2"}:void 0,(t(e).prependInnerIcon||t(e).pipSlot==="prepend-inner"&&t(e).pip)&&!t(o)["prepend-inner"]?{name:"prepend-inner",fn:S(()=>[t(e).pip?(k(),V(G,A({key:0},t(M),{onClick:r[0]||(r[0]=s=>N("textFieldIcon"))}),null,16)):t(e).prependInnerIcon?(k(),V(D,{key:1,color:t(L),icon:t(e).prependInnerIcon,iconSize:t(e).iconSize,onClick:r[1]||(r[1]=s=>N("textFieldIcon"))},null,8,["color","icon","iconSize"])):F("",!0)]),key:"3"}:void 0,t(o)["append-inner"]?{name:"append-inner",fn:S(s=>[H(i.$slots,"append-inner",_(q({...s,toggleColorPicker:w})),void 0,!0)]),key:"4"}:void 0,(t(e).appendInnerIcon||t(e).pipSlot==="append-inner"&&t(e).pip)&&!t(o)["append-inner"]?{name:"append-inner",fn:S(()=>[t(e).pip?(k(),V(G,A({key:0},t(M),{onClick:r[2]||(r[2]=s=>N("textFieldIcon"))}),null,16)):t(e).appendInnerIcon?(k(),V(D,{key:1,color:t(L),icon:t(e).appendInnerIcon,iconSize:t(e).iconSize,onClick:r[3]||(r[3]=s=>N("textFieldIcon"))},null,8,["color","icon","iconSize"])):F("",!0)]),key:"5"}:void 0,t(o).append?{name:"append",fn:S(s=>[H(i.$slots,"append",_(q({...s,toggleColorPicker:w})),void 0,!0)]),key:"6"}:void 0,(t(e).appendIcon||t(e).pipSlot==="append"&&t(e).pip)&&!t(o).append?{name:"append",fn:S(()=>[t(e).pip?(k(),V(G,A({key:0},t(M),{onClick:w}),null,16)):t(e).appendIcon?(k(),V(D,{key:1,color:t(L),icon:t(e).appendIcon,iconSize:t(e).iconSize,onClick:w},null,8,["color","icon","iconSize"])):F("",!0)]),key:"7"}:void 0,t(o).label||t(e).label?{name:"label",fn:S(()=>[t(o).label?H(i.$slots,"label",{key:0},void 0,!0):t(e).label?(k(),Q("div",Qe,[xe(Ae(t(e).label)+" ",1),t(e).required?(k(),Q("span",et,"*")):F("",!0)])):F("",!0)]),key:"8"}:void 0]),1040,["class","clearable","color","density","hint","messages","model-value","persistent-hint","persistent-placeholder","placeholder","readonly","theme","variant"])],512),(k(),V(Ee,{to:"body"},[W(We,{defaults:t(y)},{default:S(()=>{var s;return[W(Ne,{ref_key:"cardRef",ref:b,class:se(t(ye)),style:de(t(f)),theme:((s=t(y).VCard)==null?void 0:s.theme)??t(K),width:t(C).width},{default:S(()=>{var u,P;return[W(Oe,{modelValue:t(c),"onUpdate:modelValue":[r[7]||(r[7]=z=>_e(c)?c.value=z:null),X],class:"v-color-selection",disabled:t(e).readonly||((u=t(y).VColorPicker)==null?void 0:u.disabled),mode:t(Y),theme:((P=t(y).VColorPicker)==null?void 0:P.theme)??t(K),"onUpdate:mode":ke},null,8,["modelValue","disabled","mode","theme"])]}),_:1},8,["class","style","theme","width"])]}),_:1},8,["defaults"])]))],64))}}),nt=Le(tt,[["__scopeId","data-v-bd364cff"]]);export{nt as default};
